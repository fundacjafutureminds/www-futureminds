---
phase: 03-nawigacja
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/layout/Navbar.tsx
  - src/lib/constants.ts
  - src/app/page.tsx
autonomous: true

must_haves:
  truths:
    - "Navbar wyswietla logo FMF-white.png (180px) z margin-left 40px na ciemnym tle"
    - "8 linkow nawigacyjnych jest widocznych w kolumnie: Aktualnosci, Programy edukacyjne, Programy stypendialne, Projekty, Szkolenia, Publikacje, O nas, Kontakt"
    - "Kazdy link ma desaturowany trojkat (szary, nie zielony) po lewej stronie"
    - "Hover na linku zmienia kolor tekstu na #9AFC4E (fm-green)"
    - "Dekoracyjny trojkat konturowy Obszar-roboczy-2-kopia-2.png jest widoczny obok menu"
    - "Navbar jest sticky i towarzyszy uzytkownikowi podczas scrollowania"
  artifacts:
    - path: "src/components/layout/Navbar.tsx"
      provides: "Sticky kolumna z logo, 8 linkami z trojkatami, animacjami fadeIn i dekoracyjnym trojkatem"
      contains: "use client"
    - path: "src/lib/constants.ts"
      provides: "NAV_ITEMS z 8 pozycjami w kolejnosci wymaganej przez faze 3"
      contains: "Publikacje"
    - path: "src/app/page.tsx"
      provides: "Navbar zintegrowany w layout strony"
      contains: "Navbar"
  key_links:
    - from: "src/components/layout/Navbar.tsx"
      to: "src/lib/constants.ts"
      via: "import NAV_ITEMS"
      pattern: "import.*NAV_ITEMS.*constants"
    - from: "src/app/page.tsx"
      to: "src/components/layout/Navbar.tsx"
      via: "import Navbar"
      pattern: "import.*Navbar"
---

<objective>
Przebudowa Navbar.tsx z horizontal navbara na sticky kolumne linkow z logo, 8 linkami nawigacyjnymi z desaturowanymi trojkatami, animacjami fadeIn (Framer Motion) i dekoracyjnym trojkatem konturowym. Aktualizacja NAV_ITEMS i integracja w layout strony.

Purpose: Uzytkownik widzi sticky nawigacje z logo fundacji i 8 linkami do sekcji strony, wiernie odwzorowujaca oryginalny design z Elementora.
Output: Przebudowany Navbar.tsx, zaktualizowany constants.ts, zintegrowany page.tsx
</objective>

<execution_context>
@C:/Users/mstrz/.claude-fundacja/get-shit-done/workflows/execute-plan.md
@C:/Users/mstrz/.claude-fundacja/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-nawigacja/03-RESEARCH.md
@.planning/phases/01-fundamenty/01-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Przebudowa Navbar.tsx na sticky kolumne z logo, linkami i trojkatami</name>
  <files>src/components/layout/Navbar.tsx, src/lib/constants.ts</files>
  <action>
**1. Aktualizacja NAV_ITEMS w constants.ts:**

Zmienić kolejność i etykiety NAV_ITEMS na wymaganą przez faze 3:
```typescript
export const NAV_ITEMS: NavItem[] = [
  { label: "Aktualności", href: "/aktualnosci" },
  { label: "Programy edukacyjne", href: "#programy-edukacyjne" },
  { label: "Programy stypendialne", href: "#programy-stypendialne" },
  { label: "Projekty", href: "#projekty" },
  { label: "Szkolenia", href: "#szkolenia" },
  { label: "Publikacje", href: "#baza-wiedzy" },
  { label: "O nas", href: "/o-nas" },
  { label: "Kontakt", href: "/kontakt" },
];
```

UWAGA: "Baza wiedzy" w href (anchor do sekcji) ale etykieta "Publikacje" (zgodnie z wymaganiami NAV-02).

**2. Przebudowa Navbar.tsx:**

Zastąpić cały obecny Navbar (horizontal bar z border-b) nowym komponentem:

- Dodać `"use client"` na górze (wymagane przez Framer Motion)
- Importy: `Image` z next/image, `Link` z next/link, `motion` z framer-motion, `NAV_ITEMS` z constants
- Struktura: `<nav>` z klasami `sticky top-0 flex w-[350px] shrink-0 flex-col self-start` i `h-fit`
- Z-index: `z-30` (nad treścią, pod ewentualnymi modalami)

**Logo (fadeInDown):**
- `motion.div` z `initial={{ opacity: 0, y: -20 }}`, `animate={{ opacity: 1, y: 0 }}`, `transition={{ duration: 0.6 }}`
- Spacer górny: `<div className="h-[95px]" />` (zgodnie z Elementor)
- `<Link href="/">` z `className="ml-10 block"`
- `<Image src="/images/FMF-white.png" alt="Future Minds Foundation" width={180} height={57} className="h-auto w-[180px]" />`

**Spacer miedzy logo a linkami:** `<div className="h-[95px]" />`

**Linki (fadeInLeft z stagger):**
- Mapować NAV_ITEMS.map((item, index) => ...)
- Każdy link w `motion.div`:
  - `initial={{ opacity: 0, x: -20 }}`
  - `animate={{ opacity: 1, x: 0 }}`
  - `transition={{ delay: 0.1 * (index + 1), duration: 0.5 }}`
  - `className="ml-5 mt-[2px] mb-[-3px] flex items-center"`
- Trójkąt: `<Image src="/images/Green-Triangle.png" alt="" width={12} height={12} className="-mt-1 self-center brightness-[0.42] saturate-0" aria-hidden="true" />`
  - KRYTYCZNE: `brightness-[0.42] saturate-0` sprawia, że trójkąt jest SZARY, nie zielony
- Link tekst: `<Link href={item.href} className="ml-5 text-[20px] font-light leading-[1em] tracking-[1.1px] text-[#EAEAEA] transition-colors hover:text-fm-green" style={{ fontFamily: "'neue-haas-grotesk-display', var(--font-sans)" }}>{item.label}</Link>`
  - Font: neue-haas-grotesk-display z fallbackiem na var(--font-sans) (Plus Jakarta Sans)
  - Kolor: #EAEAEA (jasny szary), hover: fm-green (#9AFC4E)
  - Nie dodawać text-transform (text-transform: none, nie uppercase)

**Spacery na dole:**
- `<div className="h-[70px]" />`

**Dekoracyjny trójkąt konturowy (NAV-03):**
- Po spacerze 70px, przed końcem nav
- `<div className="ml-10">` (wyrownanie z logo)
- `<Image src="/images/Obszar-roboczy-2-kopia-2.png" alt="" width={140} height={140} className="w-[40%] h-auto" aria-hidden="true" />`
- Rozmiar: `w-[40%]` (space: 40% z Elementora), align: left, align-self: center

**Spacer końcowy:**
- `<div className="h-[501px]" />` (duży spacer z Elementora na dole)
  </action>
  <verify>
1. `npx tsc --noEmit` - brak błędów TypeScript
2. Navbar.tsx zawiera "use client"
3. Navbar.tsx importuje motion z framer-motion
4. NAV_ITEMS w constants.ts ma 8 pozycji z "Publikacje" jako 6. pozycja
5. Trójkąty mają klasy brightness-[0.42] saturate-0
6. Logo ma width 180px i margin-left 40px (ml-10)
  </verify>
  <done>
Navbar.tsx jest przebudowany na sticky kolumnę z logo (180px, fadeInDown), 8 linkami z desaturowanymi trójkątami (fadeInLeft ze stagger delay), dekoracyjnym trójkątem konturowym i prawidłową typografią (20px, 300, #EAEAEA, hover #9AFC4E). NAV_ITEMS ma 8 pozycji w wymaganej kolejności.
  </done>
</task>

<task type="auto">
  <name>Task 2: Integracja Navbar w layout strony (page.tsx)</name>
  <files>src/app/page.tsx</files>
  <action>
**Kontekst architektury:** Obecny page.tsx renderuje Navbar jako osobną sekcję między HeroSection a SectionSeparator. Navbar w nowej wersji jest sticky kolumną (350px) — nie może być osobną sekcją, musi być wewnątrz kontenera, który obejmuje treść pod nią, żeby sticky działał poprawnie.

**Zmiana w page.tsx:**

1. Owinąć Navbar + sekcje tematyczne w wspólny flex kontener, żeby Navbar był sticky sidebar obok treści:

```tsx
export default function Home() {
  return (
    <>
      <HeroSection />
      <div className="mx-auto flex max-w-[1400px]">
        <Navbar />
        {/* Separator pionowy miedzy navbar a trescia */}
        <div className="hidden w-px self-stretch bg-white/10 lg:block" />
        {/* Prawa kolumna z sekcjami */}
        <div className="min-w-0 flex-1">
          <SectionSeparator />
          <ProgramyEdukacyjneSection />
          <ProgramyStypendialneSection />
          <ProjektySection />
          <SzkoleniaSection />
          <BazaWiedzySection />
        </div>
      </div>
    </>
  );
}
```

**KLUCZOWE:** Navbar jest wewnątrz flex kontenera razem z treścią. CSS `sticky top-0` + `self-start` na Navbar sprawi, że "przykleja się" na górze podczas scrollowania treści po prawej stronie. Flex parent jest wystarczająco wysoki (cała treść pod Hero), więc sticky działa poprawnie.

2. **Separator pionowy:** Dodać `<div className="hidden w-px self-stretch bg-white/10 lg:block" />` między Navbar a treścią (wzorzec z StickySection). Ukryty na mobile (hidden/lg:block).

3. **Navbar ukryty na mobile:** Navbar ma `hidden lg:flex` wrapper albo `hidden lg:flex` na `<nav>` — na mobile nie wyświetla się (jest za szeroki). Menu mobilne to osobne zagadnienie (Claude's Discretion — minimalne hamburger menu lub brak w tej fazie, focus na desktop).

UWAGA: StickySection wewnątrz prawej kolumny już ma swój własny sidebar 350px. Navbar jest OSOBNYM sidebarem na poziomie całej strony — to jest główna nawigacja, a StickySection sidebary to nawigacja per-sekcja. Trzeba rozważyć, czy to nie powoduje konfliktu wizualnego. Z analizy Elementora: sekcje tematyczne (Programy Edukacyjne, Stypendialne itp.) mają SWÓJ sidebar w obrębie prawej kolumny — to jest prawidłowe, bo w oryginale Elementor ma nested layout.

ALTERNATYWNIE (prostsze podejście): Jeśli nested sidebary wyglądają źle, Navbar z `hidden lg:flex` ORAZ klasa na `<nav>` może być renderowany jako fixed sidebar po lewej stronie strony. Ale zaczynamy od podejścia sticky-in-flex bo to wierniejsze oryginałowi.
  </action>
  <verify>
1. `npx tsc --noEmit` - brak błędów TypeScript
2. `npx next build` - build przechodzi
3. page.tsx zawiera flex kontener owijający Navbar + treść
4. Separator pionowy (w-px bg-white/10) jest obecny między Navbar a treścią
5. Navbar jest wewnątrz flex parent razem z sekcjami — sticky zadziała
  </verify>
  <done>
Navbar jest zintegrowany w layout strony jako sticky sidebar w flex kontenerze obok treści sekcji. Separator pionowy oddziela Navbar od treści. Sticky behavior działa — Navbar towarzyszy użytkownikowi podczas scrollowania. Build przechodzi bez błędów.
  </done>
</task>

</tasks>

<verification>
1. `npx tsc --noEmit` - zero błędów TypeScript
2. `npx next build` - build przechodzi bez błędów
3. Navbar zawiera logo FMF-white.png (180px)
4. 8 linków nawigacyjnych w prawidłowej kolejności
5. Trójkąty są desaturowane (szare) — brightness-[0.42] saturate-0
6. Dekoracyjny trójkąt Obszar-roboczy-2-kopia-2.png jest widoczny
7. Navbar jest sticky (sticky top-0 self-start wewnątrz flex parent)
8. Animacje fadeIn działają (fadeInDown logo, fadeInLeft linki)
</verification>

<success_criteria>
- Navbar wyświetla logo fundacji i 8 linków na ciemnym tle w kolumnie
- Każdy link ma desaturowany trójkąt po lewej
- Hover zmienia kolor na zielony (#9AFC4E)
- Dekoracyjny trójkąt outline jest widoczny obok menu
- Navbar jest sticky podczas scrollowania
- Build (`next build`) przechodzi bez błędów
</success_criteria>

<output>
After completion, create `.planning/phases/03-nawigacja/03-01-SUMMARY.md`
</output>
