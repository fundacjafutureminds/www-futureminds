---
phase: 04-programy-edukacyjne
plan: 02
type: execute
wave: 1
depends_on: ["04-01"]
files_modified:
  - src/app/page.tsx
  - src/components/sections/ProgramyEdukacyjneSection.tsx
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "Lewa kolumna 350px z napisem 01 Programy edukacyjne jest sticky podczas scrollowania sekcji"
    - "Kazda sekcja (Stypendialne, Projekty, Szkolenia, Baza Wiedzy) ma wlasny sidebar 350px bez podwojnego sidebara"
    - "Globalny Navbar NIE jest widoczny — zastapiony per-sekcyjnymi sidebarami"
    - "Build (next build) przechodzi bez bledow"
  artifacts:
    - path: "src/app/page.tsx"
      provides: "Layout bez globalnego Navbar, sekcje top-level z wlasnymi StickySection"
      contains: "ProgramyEdukacyjneSection"
    - path: "src/components/sections/ProgramyEdukacyjneSection.tsx"
      provides: "Sekcja Programy Edukacyjne owinięta w StickySection z numerem 01"
      contains: "StickySection"
  key_links:
    - from: "src/components/sections/ProgramyEdukacyjneSection.tsx"
      to: "src/components/ui/StickySection.tsx"
      via: "import StickySection"
      pattern: "import.*StickySection"
    - from: "src/app/page.tsx"
      to: "src/components/sections/ProgramyEdukacyjneSection.tsx"
      via: "import ProgramyEdukacyjneSection"
      pattern: "import.*ProgramyEdukacyjneSection"
---

<objective>
Zamkniecie gapu z weryfikacji: sekcja Programy Edukacyjne nie ma sticky sidebara z numerem "01 Programy edukacyjne".

Rozwiazanie (LOCKED DECISION Macieja): Usunac globalny Navbar z layoutu page.tsx i przywrocic per-sekcyjne StickySection sidebary — kazda sekcja ma swoj wlasny sidebar 350px jak w oryginalnym Elementorze. ProgramyEdukacyjneSection zostanie owinieta w StickySection. Sekcje juz uzywajace StickySection (Stypendialne, Projekty, Szkolenia, BazaWiedzy) zostana przeniesione z zagniezdzonego flex-1 div na top-level, co naprawi bug podwojnego sidebara (700px zamiast 350px).

Purpose: Osiagniecie ROADMAP success criteria 1 — sticky sidebar z numerem sekcji 01
Output: Zmodyfikowane page.tsx i ProgramyEdukacyjneSection.tsx
</objective>

<execution_context>
@C:/Users/mstrz/.claude-fundacja/get-shit-done/workflows/execute-plan.md
@C:/Users/mstrz/.claude-fundacja/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-programy-edukacyjne/04-01-SUMMARY.md
@.planning/phases/04-programy-edukacyjne/04-01-VERIFICATION.md

# Pliki zrodlowe do modyfikacji
@src/app/page.tsx
@src/components/sections/ProgramyEdukacyjneSection.tsx
@src/components/ui/StickySection.tsx
@src/lib/constants.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Restrukturyzacja page.tsx — usunac Navbar, sekcje top-level</name>
  <files>src/app/page.tsx</files>
  <action>
Zmodyfikowac src/app/page.tsx:

1. USUNAC import Navbar:
   - Usunac `import { Navbar } from "@/components/layout/Navbar";`

2. USUNAC caly flex kontener z Navbarem:
   - Usunac `<div className="mx-auto flex max-w-[1400px]">`
   - Usunac `<Navbar />`
   - Usunac separator `<div className="hidden w-px self-stretch bg-white/10 lg:block" />`
   - Usunac wrapper `<div className="min-w-0 flex-1">`
   - Usunac `<SectionSeparator />` (strzalka bedzie czescia sekcji Programy Edukacyjne)

3. PRZENOSC sekcje na top-level (bezposrednio w `<>...</>`):
   ```tsx
   export default function Home() {
     return (
       <>
         <HeroSection />
         <ProgramyEdukacyjneSection />
         <ProgramyStypendialneSection />
         <ProjektySection />
         <SzkoleniaSection />
         <BazaWiedzySection />
       </>
     );
   }
   ```

4. ZACHOWAC wszystkie inline sekcje (ProgramyStypendialneSection, ProjektySection, SzkoleniaSection, BazaWiedzySection) — one JUZ uzywaja StickySection i po wyniesieniu na top-level beda poprawnie renderowac wlasne sidebary 350px.

5. DODAC import EDUCATION_SECTION_NAV jesli nie jest juz importowany (potrzebny jesli ProgramyEdukacyjneSection zmieni sie na inline z StickySection — ale NIE, bo to osobny komponent). Import EDUCATION_SECTION_NAV nie jest tu potrzebny.

6. USUNAC component SectionSeparator (strzalka w dol) jesli nie jest juz uzywany w page.tsx.

UWAGA: Nie usuwac pliku Navbar.tsx — tylko jego import i uzycie w page.tsx.
  </action>
  <verify>
- `npx tsc --noEmit` przechodzi bez bledow
- page.tsx nie zawiera importu Navbar
- page.tsx nie zawiera flex kontenera z 350px sidebar
- Kazda sekcja jest bezposrednim dzieckiem `<>...</>` fragmentu
  </verify>
  <done>Layout page.tsx nie ma globalnego Navbar — sekcje sa top-level i kazda renderuje wlasny StickySection sidebar</done>
</task>

<task type="auto">
  <name>Task 2: Owinac ProgramyEdukacyjneSection w StickySection z numerem 01</name>
  <files>src/components/sections/ProgramyEdukacyjneSection.tsx</files>
  <action>
Zmodyfikowac src/components/sections/ProgramyEdukacyjneSection.tsx:

1. DODAC import StickySection i EDUCATION_SECTION_NAV:
   ```tsx
   import { StickySection } from "@/components/ui/StickySection";
   import { EDUCATION_SECTION_NAV } from "@/lib/constants";
   ```

2. ZAMIENIC zewnetrzny `<section id="programy-edukacyjne" className="relative">` na StickySection:
   ```tsx
   export function ProgramyEdukacyjneSection() {
     return (
       <StickySection
         id="programy-edukacyjne"
         title="Programy Edukacyjne"
         sectionNumber="01"
         navLinks={EDUCATION_SECTION_NAV}
       >
         {/* Cala dotychczasowa tresc sekcji (overlay, naglowek, karty, szyte na miare, separator) */}
         {/* ... ale BEZ zewnetrznego <section> i BEZ px-6 py-12 lg:px-12 wrappera (StickySection juz dodaje padding) */}
       </StickySection>
     );
   }
   ```

3. ZACHOWAC cala tresc wewnetrzna — overlay dekoracyjny, duzy naglowek 100px, intro headings, karty programow, sekcja szyte na miare, separator strzalka.

4. USUNAC zewnetrzny div z `className="relative z-10 px-6 py-12 lg:px-12"` — StickySection juz dodaje padding `px-6 py-12 lg:px-12` do prawej kolumny. Zachowac `relative z-10` jako wrapper wewnatrz StickySection children, aby overlay nie zaslonial tresci.

5. Overlay dekoracyjny (absolute inset-0) musi byc WEWNATRZ StickySection children (nie na zewnatrz), inaczej bedzie lezel na sidebarze. Umiescic go wewnatrz div z `relative`:
   ```tsx
   <StickySection ...>
     <div className="relative">
       {/* Overlay dekoracyjny */}
       <div className="pointer-events-none absolute inset-0 z-0">
         <Image src="/images/Tlo-EDUKACYJNE3.png" ... />
       </div>
       {/* Tresc z z-10 */}
       <div className="relative z-10">
         {/* duzy naglowek, intro, karty, szyte na miare, separator */}
       </div>
     </div>
   </StickySection>
   ```

6. Build MUSI przechodzic: `npx tsc --noEmit`
  </action>
  <verify>
- `npx tsc --noEmit` przechodzi bez bledow
- ProgramyEdukacyjneSection.tsx importuje StickySection
- ProgramyEdukacyjneSection.tsx uzywa `<StickySection id="programy-edukacyjne" title="Programy Edukacyjne" sectionNumber="01">`
- Overlay dekoracyjny jest wewnatrz StickySection children
- Brak duplikacji padding/layout (StickySection juz ma px-6 py-12 lg:px-12)
  </verify>
  <done>ProgramyEdukacyjneSection renderuje sticky sidebar 350px z numerem "01" i tytulem "Programy Edukacyjne" po lewej stronie, tresc z overlay po prawej</done>
</task>

</tasks>

<verification>
1. `npx tsc --noEmit` — zero bledow TypeScript
2. `npm run build` — build przechodzi
3. Sprawdzenie page.tsx: brak importu Navbar, brak flex kontenera, sekcje top-level
4. Sprawdzenie ProgramyEdukacyjneSection.tsx: uzywa StickySection z sectionNumber="01"
5. Sprawdzenie w przegladarce: lewa kolumna 350px z "01 Programy edukacyjne" jest sticky
6. Sprawdzenie w przegladarce: inne sekcje (Stypendialne, Projekty, itd.) maja wlasne sidebary BEZ podwojnego sidebara
</verification>

<success_criteria>
- ROADMAP truth 1 SATISFIED: Lewa kolumna 350px z napisem "01 Programy edukacyjne" jest sticky podczas scrollowania
- Zero bledow build
- Kazda sekcja ma wlasny StickySection sidebar bez podwojnego sidebara
- Globalny Navbar nie jest uzywany w layout
</success_criteria>

<output>
Po ukonczeniu, stworz `.planning/phases/04-programy-edukacyjne/04-02-SUMMARY.md`
</output>
